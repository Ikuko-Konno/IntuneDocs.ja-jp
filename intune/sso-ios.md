---
title: Microsoft Intune で iOS 用のシングル サインオンを追加する - Azure | Microsoft Docs
description: Microsoft Intune で、組織のリソースやデータに対する認証としてパスワードではなくシングル サインオン (SSO) を使用するように iOS デバイスを作成、構成、許可、または有効化します。 SSO を使用するには、ユーザーとデバイスを認証する目的でデバイス構成プロファイルを作成し、UPN、デバイス ID、アプリ、証明書を入力します。
keywords: ''
author: MandiOhlinger
ms.author: mandia
manager: dougeby
ms.date: 10/24/2018
ms.topic: article
ms.prod: ''
ms.service: microsoft-intune
ms.technology: ''
ms.suite: ems
ms.custom: intune-azure
ms.openlocfilehash: d1add113222c2aa7eaea10679c329e877b1a136f
ms.sourcegitcommit: 437eaf364c3b8a38d294397310c770ea4d8a8015
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2018
ms.locfileid: "49992011"
---
# <a name="use-single-sign-on-ios-device-in-microsoft-intune"></a>Microsoft Intune でシングル サインオン iOS デバイスを使用する

ほとんどの基幹業務 (LOB) アプリでは、セキュリティに対応するために、何らかのレベルのユーザー認証が必要です。 多くの場合、ユーザーはこの認証のために同じ資格情報を何回も入力する必要があり、ストレスを感じることがあります。 ユーザーの操作環境を改善するため、開発者はシングル サインオン (SSO) を使うアプリを作成し、ユーザーが資格情報を入力する必要のある回数を減らすことができます。

この記事では、Microsoft Intune でデバイス構成プロファイルを使用して iOS デバイス用のシングル サインオンを有効にする方法を紹介します。

## <a name="before-you-begin"></a>始める前に

iOS デバイス上のシングル サインオン ペイロードでユーザー資格情報ストアを探すようにアプリをコーディングしてください。

## <a name="create-the-sso-profile"></a>SSO プロファイルを作成する

1. **Azure Portal** で、[[すべてのサービス]](https://portal.azure.com) を選択し、**[Intune]** をフィルターとして適用して、**[Microsoft Intune]** を選びます。
2. **[デバイス構成]**、**[プロファイル]**、**[プロファイルの作成]** の順に選択します。
3. 次の設定を入力します。

    - **名前**: `ios sso profile` のようにプロファイルの名前を入力します。
    - **説明**: 一覧からプロファイルを探すときに役立つように、重要語句を含む説明を入力します。
    - **[プラットフォーム]**: **[iOS]** を選びます。
    - **[プロファイルの種類]**: **[デバイス機能]** を選びます。

4. **[シングル サインオン]** を選択します。

    ![[シングル サインオン] ウィンドウ](./media/sso-blade.png)

5. 次の設定を入力します。 

    - **AAD からのユーザー名の属性**: Intune によって、Azure AD で各ユーザーに対してこの属性が検索されます。 次に Intune によって個々のフィールド (UPN など) にデータが入力され、その後で、デバイスにインストールされる XML ペイロードが生成されます。 次のようなオプションがあります。
    
        - **ユーザー プリンシパル名**: UPN は次のように解析されます。

            ![ユーザー名属性](media/User-name-attribute.png)

            **[領域]** テキスト ボックスに入力したテキストを使用して領域を上書きすることもできます。

            たとえば、Contoso にはヨーロッパ、アジア、北米などのサブ領域があり、 アジアのユーザーは SSO ペイロードを使用し、アプリは `username@asia.contoso.com` 形式の UPN を要求するものとします。 この場合、**[ユーザー プリンシパル名]** を選ぶと、既定で各ユーザーの領域は Azure AD から取得されますが、それは *contoso.com* のようなものかもしれません。 そのため、アジアのユーザーについては、このペイロードを作成し、領域を値 *asia.contoso.com* で上書きすることができます。 結果として、エンド ユーザーの UPN は username@contoso.com ではなく、username@asia.contoso.com になります。

        - **Intune デバイス ID**: Intune によって Intune デバイス ID が自動的に選択されます。 

            既定では、アプリで使う必要があるのはデバイス ID だけです。 ただし、アプリがデバイス ID と*共に*領域を使う場合は、**[領域]** テキスト ボックスに領域を入力できます。

            > [!NOTE]
            > 既定では、デバイス ID を使う場合は領域を空のままにします。

    - **領域**: URL のドメイン部分です。
    
    - **シングル サインオンを使用する URL プレフィックス**: 組織内の URL の中でユーザーのシングル サインオン認証を必要とするものがあれば、それを**追加**します。 

        たとえば、ユーザーがそのようなサイトに接続すると、iOS デバイスによってシングル サインオンの資格情報が使用されます。 ユーザーはいかなる追加の資格情報も入力する必要がありません。 ただし、多要素認証が有効になっている場合は、ユーザーは第 2 の認証情報を入力する必要があります。

        > [!NOTE]
        > これらの URL は、適切な形式の FQDN である必要があります。 Apple で要求される URL 形式は `http://<yourURL.domain>` です。

        URL の一致パターンは、`http://` または `https://` で始まっている必要があります。 単純な文字列一致が実行されるので、URL プレフィックス `http://www.contoso.com/` は `http://www.contoso.com:80/` とは一致しません。 ただし、iOS 10.0 以降では、単一のワイルドカード \* を使用して、一致するすべての値を入力できます。 たとえば、`http://*.contoso.com/` は `http://store.contoso.com/` と `http://www.contoso.com` の両方と一致します。

        パターン `http://.com` はすべての HTTP URL と一致し、`https://.com` はすべての HTTPS URL と一致します。
    
    - **シングル サインオンを使用するアプリ**: シングル サインオンを使用できるエンド ユーザーのデバイスにアプリを**追加**します。 

        `AppIdentifierMatches` 配列には、アプリ バンドル ID と一致する文字列が含まれる必要があります。 これらの文字列では、完全に一致する値 (例: `com.contoso.myapp`) を指定するか、\* ワイルドカード文字を使用してバンドル ID のプレフィックス一致を入力できます。 ワイルドカード文字は、ピリオド文字 (.) の後に指定する必要があり、文字列の最後で 1 回だけ使えます (例: `com.contoso.*`)。 ワイルドカードが含まれる場合は、バンドル ID がプレフィックスで始まるすべてのアプリが、アカウントへのアクセスを許可されます。

        **[アプリ名]** を使用し、バンドル ID の識別に役立つわかりやすい名前を入力します。
    
    - **資格情報更新証明書**: 認証に (パスワードではない) 資格情報を使う場合は、認証証明書としてユーザーに展開される SCEP または PFX 証明書を選びます。 通常、これは VPN、Wi-Fi、電子メールなどの他のプロファイル用にユーザーに展開されるものと同じ証明書です。

6. **[OK]** > **[OK]** > **[作成]** の順に選択して変更を保存し、プロファイルを作成します。 作成後、**[デバイス構成 - プロファイル]** リストに表示されます。 

## <a name="next-steps"></a>次の手順

デバイスの機能の構成について詳しくは、「[Microsoft Intune でデバイスの機能設定を構成する方法](device-features-configure.md)」をご覧ください。

iOS デバイスに[このプロファイルを割り当てます](device-profile-assign.md)。
