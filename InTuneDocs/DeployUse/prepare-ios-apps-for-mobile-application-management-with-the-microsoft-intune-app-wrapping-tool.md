---
title: "アプリ ラッピング ツールで iOS アプリをラップする |Microsoft Intune"
description: "このトピックの情報を使用して、アプリ自体のコードを変更することなく、iOS アプリをラップする方法について説明します。 モバイル アプリ管理ポリシーを適用できるように、アプリを準備します。"
keywords: 
author: karthikaraman
manager: angrobe
ms.date: 09/19/2016
ms.topic: article
ms.prod: 
ms.service: microsoft-intune
ms.technology: 
ms.assetid: 99ab0369-5115-4dc8-83ea-db7239b0de97
ms.reviewer: oldang
ms.suite: ems
translationtype: Human Translation
ms.sourcegitcommit: c67a5042fd177a4c5bd897092e84281db0977f5e
ms.openlocfilehash: 2c187b61b8fe25b2870d0cbc62f8352494583fc2


---

# Intune アプリ ラッピング ツールでモバイル アプリケーションを管理するために iOS アプリを準備する
**iOS 用 Microsoft Intune アプリ ラッピング ツール**を使用して社内 iOS アプリの動作を変更すれば、アプリ自体のコードを変更しなくてもアプリの機能を制限できます。

このツールはアプリを囲むように "ラッパー" を作成する Mac OS コマンド ライン アプリケーションです。 アプリが処理されたら、ユーザーが構成する Intune の[モバイル アプリケーション管理ポリシー](configure-and-deploy-mobile-application-management-policies-in-the-microsoft-intune-console.md)を利用してアプリの機能を変更できます。

このツールをダウンロードするには、「[iOS 用 Microsoft Intune アプリ ラッピング ツール](https://github.com/msintuneappsdk/intune-app-wrapping-tool-ios)」を参照してください。



## 手順 1. ラッピング ツールを使用するための前提条件を満たす
前提条件とその設定方法の詳細については、[このブログ投稿](http://social.technet.microsoft.com/wiki/contents/articles/34339.skype-for-business-online-enable-your-tenant-for-modern-authentication.aspx)をご覧ください。

|要件|詳細情報|
|---------------|--------------------------------|
|サポートされるオペレーティング システムとツールセット|このアプリ ラッピング ツールは XCode ツールセットのバージョン 5 以降がインストールされている OS X 10.8.5 以降を実行している macOS コンピューターで実行する必要があります。|
|署名証明書とプロビジョニング プロファイル|Apple 署名証明書とプロビジョニング プロファイルを持っている必要があります。 [Apple 開発者ドキュメント](https://developer.apple.com/)を参照してください。|
|App Wrapping Tool でアプリを処理する|アプリはあなたの会社または独立系ソフトウェア ベンダー (ISV) が開発し、署名したものでなければなりません。 このツールを使用し、Apple ストアのアプリを処理することはできません。 アプリは iOS 8.0 以降向けに作成されている必要があります。 また、アプリは PIE (Position Independent Executable/位置独立実行) 形式にする必要があります。 PIE 形式に関する詳細については、Apple 開発者ドキュメントを参照してください。 最後に、アプリの拡張子形式は **.app** または **.ipa** にする必要があります。|
|ラッピング ツールで処理できないアプリ|暗号化されたアプリ、署名のないアプリ、および拡張ファイル属性があるアプリ。|
|アプリの権利の設定|アプリをラップする前に、権利を設定して、通常よりも多くのアクセス許可や機能をアプリに付与しておく必要があります。 手順については、「[アプリ権限の設定](#setting-app-entitlements)」を参照してください。|

## 手順 2. アプリ ラッピング ツールをインストールする

1.  [GitHub でホストされているリポジトリ](https://github.com/msintuneappsdk/intune-app-wrapping-tool-ios)「**iOS 用 Microsoft Intune アプリ ラッピング ツール**」から、アプリ ラッピング ツールのファイルを mac OS のコンピューターのローカルにダウンロードします。

2.  インストール ファイル **[Microsoft Intune App Wrapping Tool for iOS.dmg]** をダブルクリックします。 エンド ユーザー ライセンス条項 (EULA) のウィンドウが表示されます。 ドキュメントをよくお読みください。

3. EULA に同意する場合は **[同意する]** をクリックします。コンピューターにパッケージがマウントされます。

4.  **IntuneMAMPackager** パッケージを開き、macOS コンピューターのローカル フォルダーにファイルを保存します。 これでアプリ ラッピング ツールを実行する準備が整いました。

## 手順 3. アプリ ラッピング ツールを実行する
* macOS コンピューターで、ターミナル ウィンドウを開き、アプリ ラッピング ツールのファイルを保存したフォルダーに移動します。 実行可能ツールの名前は **IntuneMAMPackager** で、**IntuneMAMPackager/Contents/MacOS** にあります。 次のようにコマンドを実行する必要があります。

    ```
./IntuneMAMPackager/Contents/MacOS/IntuneMAMPackager -i /<path of input app>/<app filename> -o /<path to output folder>/<app filename> -p /<path to provisioning profile> -c <SHA1 hash of the certificate> [-b [<output app build string>]] [-v] [-e] [-x /<array of extension provisioning profile paths>]

    ```

    > [!NOTE]
    > 次の表に示すように、一部のパラメーターはオプションです。

    **例:** 次のコマンド例では、 **MyApp.ipa**という名前のアプリでアプリ ラッピング ツールを実行しています。 プロビジョニング プロファイルと SHA-1 ハッシュが指定されます。 **MyApp_Wrapped.ipa** という名前の処理済みアプリが作成され、ユーザーのデスクトップ フォルダーに格納されます。

    ```
    ./IntuneMAMPackager/Contents/MacOS/IntuneMAMPackager -i ~/Desktop/MyApp.ipa -o ~/Desktop/MyApp_Wrapped.ipa -p ~/Desktop/My_Provisioning_Profile_.mobileprovision -c 12A3BC45D67EF8901A2B3CDEF4ABC5D6E7890FAB  -v true
    ```
    アプリ ラッピング ツールでは次のコマンド ライン プロパティを使用できます。

    |プロパティ|使用方法|
  |------------|--------------------|
  |**-i**|`<Path of the input native iOS application file>`。 ファイルは .app または .ipa で終わる必要があります。 |
  |**-o**|`<Path of the wrapped output application>` |
  |**-p**|`<Path of your provisioning profile for iOS apps>`|
  |**-c**|`<SHA1 hash of the signing certificate>`|
    |-h|アプリ ラッピング ツールに使用できるコマンド ライン プロパティの詳細な使用情報を表示します。|
  |-v|(省略可能ですが役に立ちます) 詳細なメッセージをコンソールに出力します。|
  |-e | (省略可能) このフラグを使用すると、アプリ ラッピング ツールが、アプリを処理する際に不足している権利を削除します。 詳細については「アプリ権利の設定」のセクションを参照してください。|
  |-xe| (省略可能) アプリの iOS 拡張機能に関する情報、およびそれを使用するために必要な権利を出力します。 詳細については「アプリ権利の設定」のセクションを参照してください。 |
  |-x| (省略可能)`<An array of paths to extension provisioning profiles>`。 これは、アプリが拡張機能のプロビジョニング プロファイルを必要とする場合に使用します。|
  |-f |(省略可能) `<Path to a plist file specifying arguments.>` このフラグは plist テンプレートを使用して -i、-o、-p といった残りの IntuneMAMPackager プロパティを指定する場合に、[plist](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/PropertyLists/Introduction/Introduction.html) ファイルの前に使用します。詳細については、「plist を使用して引数を入力する」のセクションを参照してください。 |
  |-b|(省略可能) ラッピングされた出力アプリに入力アプリと同じバンドル バージョンが含まれるようにする場合、-b を引数なしで使用します (推奨しません)。 <br/><br/> ラッピングされたアプリにカスタム CFBundleVersion が含まれるようにするには、`-b <custom bundle version>`を使用します。 カスタム CFBundleVersion を指定する場合、例えば最下位のコンポーネントから、ネイティブ アプリの CFBundleVersion をインクリメントすることをお勧めします (例: 1.0.0 -> 1.0.1)。 |


###plist を使用して引数を入力する
すべてのコマンド引数を [plist](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/PropertyLists/Introduction/Introduction.html) ファイルに置くと、アプリ ラッピング ツールを簡単に実行できます。 Plist は XML に似たファイル形式で、フォームのインターフェイスを使用してコマンドライン引数を入力できます。

**[IntuneMAMPackager/Contents/MacOS]** フォルダーで、空白の plist テンプレートである `Parameters.plist` をテキスト エディターまたは XCode で開きます。 次のキーの引数を入力します。

| Plist キー |  既定値| 注 |
|------------------|--------------|-----|
| 入力アプリケーション パッケージのパス  |空| -i と同じ。 |
| 出力アプリケーション パッケージのパス |空| -o と同じ。|
| プロビジョニング プロファイルのパス |空| -p と同じ。 |
| SHA-1 証明書ハッシュ |空| -c と同じ。 |
| 詳細が有効です |false| -v と同じ。 |
| 不足している権利を削除します | false| -c と同じ。|
| 既定のビルドを防ぎます |false | 引数なしで -b を使用したのと同じ。 |
|ビルド文字列の上書き | 空| ラッピングされた出力アプリのカスタム CFBundleVersion |
|拡張機能のプロビジョニング プロファイルのパス | 空| アプリの拡張機能のプロビジョニング プロファイルの配列。
  

最後に、次のように IntuneMAMPackager と plist を単一の引数として実行します。

```
./IntuneMAMPackager –f Parameters.plist
```

* 処理が完了すると、"**The application was successfully wrapped (アプリのラッピングが完了しました)**" というメッセージが表示されます。

    エラーが発生した場合、対処方法については、「[エラー メッセージ](prepare-ios-apps-for-mobile-application-management-with-the-microsoft-intune-app-wrapping-tool.md#error-messages)」を参照してください。

*   ラッピングされたアプリは先に指定した出力フォルダーに保存されます。 これでアプリを [!INCLUDE[wit_nextref](../includes/wit_nextref_md.md)] にアップロードし、モバイル アプリケーション管理ポリシーに関連付けることができます。

    > [!IMPORTANT]
    > 古い (ラッピング済みまたはネイティブ) バージョンが既に Intune に展開されている場合、ラッピングされたアプリをアップロードするときに、古いバージョンのアプリの更新を試行することができます。 エラーが発生した場合は、アプリを新しいアプリとしてアップロードし、古いバージョンを削除します。

    これで、アプリを [!INCLUDE[wit_nextref](../includes/wit_nextref_md.md)] グループに展開し、指定したアプリの制限を使用してデバイスでアプリを実行できるようになりました。

## エラー メッセージとログ ファイル
アプリ ラッピング ツールに関する問題を解決するには、次の情報を参照してください。

### エラー メッセージ
アプリ ラッピング ツールが正常に完了できない場合、次のエラー メッセージのいずれかがコンソールに表示されます。

|エラー メッセージ|説明|
|-----------------|--------------------|
|有効な iOS プロビジョニング プロファイルを指定する必要があります。|プロビジョニング プロファイルが有効ではない可能性があります。 デバイスのアクセス許可が与えられていることとプロファイルの目標が開発または配布であることを確認します。 プロビジョニング プロファイルが期限切れになっている可能性もあります。|
|有効な入力アプリケーション名を指定します。|指定した入力アプリケーション名が正しいことを確認します。|
|出力アプリケーションの有効なパスを指定します。|指定した出力アプリケーションのパスが存在し、正しいことを確認します。|
|有効な入力プロビジョニング プロファイルを指定します。|有効なプロビジョニング プロファイル名と拡張子を指定したことを確認します。 プロビジョニング プロファイルに権利が足りないか、**–p** コマンドライン オプションを追加していない可能性があります。|
|指定した入力アプリケーションが見つかりませんでした。 有効な入力アプリケーションの名前とパスを指定します。|入力アプリ パスが有効であり、存在することを確認します。 入力アプリがその場所に存在することを確認します。|
|指定した入力プロビジョニング プロファイル ファイルが見つかりませんでした。 有効な入力プロビジョニング プロファイル ファイルを指定します。|入力のプロビジョニング ファイルのパスが有効であり、指定したファイルが存在することを確認します。|
|指定した出力アプリケーション フォルダーが見つかりませんでした。 出力アプリケーションの有効なパスを指定します。|指定した出力パスが有効であり、存在することを確認します。|
|出力アプリに .ipa 拡張子がありません。|アプリ ラッピング ツールは [ **.app** ] 拡張子と [ **.ipa** ] 拡張子があるアプリのみを受け取ります。 出力ファイルに有効な拡張子があることを確認します。|
|無効な署名証明書が指定されました。 有効な Apple 署名証明書を指定します。|Apple 開発者ポータルから適切な署名証明書をダウンロードしていることを確認します。 証明書の期限が切れているか、公開キーまたは秘密キーがない可能性があります。 Apple 証明書とプロビジョニング プロファイルを使用し、Xcode 内で正しくアプリに署名できる場合、それらはアプリ ラッピング ツールで有効です。|
|指定した入力アプリケーションが無効です。 有効なアプリケーションを指定します。|.app または .ipa ファイルとしてコンパイルされた有効な iOS アプリケーションがあることを確認します。|
|指定した入力アプリケーションが暗号化されています。 有効な暗号化されていないアプリケーションを指定します。|アプリ ラッピング ツールでは、暗号化されたアプリはサポートされません。 暗号化されていないアプリを指定します。|
|指定した入力アプリケーションは PIE (Position Independent Executable/位置独立実行) 形式ではありません。 PIE 形式の有効なアプリケーションを指定します。|PIE (Position Independent Executable/位置独立実行) アプリは実行時にランダム メモリ アドレスで読み込むことができて、セキュリティ上の利点となります。 詳細については、Apple 開発者ドキュメントを参照してください。|
|指定した入力アプリは既にラッピングされています。 ラッピングされていない有効なアプリケーションを指定します。|このツールによって既に処理されているアプリを処理することはできません。 アプリを再度処理する場合、元のバージョンのアプリを使用し、ツールを実行します。|
|指定した入力アプリケーションは署名されていません。 署名されている有効なアプリケーションを指定します。|アプリ ラッピング ツールでは、アプリに署名が必要です。 ラッピングされたアプリに署名する方法については、開発者ドキュメントを参照してください。|
|指定した入力アプリケーションは .ipa または .app 形式である必要があります。|アプリ ラッピング ツールは .app 拡張子と .ipa 拡張子のみを受け取ります。 入力ファイルに有効な拡張子があり、.app または .ipa ファイルとしてコンパイルされていることを確認します。|
|指定した入力アプリは既にラッピングされていて、最新のポリシー テンプレート バージョンです。|アプリ ラッピング ツールは、既にラッピングされ、ポリシー テンプレート バージョンが最新のアプリを再ラッピングしません。|
|警告: SHA1 証明書ハッシュを指定しませんでした。 展開前にラッピングされたアプリケーションが署名されていることを確認します。|**-c** コマンドライン フラグの後に有効な SHA1 ハッシュを指定します。 |

### アプリ ラッピング ツールのログ ファイル
アプリ ラッピング ツールでラッピングされているアプリはログを生成し、ログが iOS クライアント デバイス コンソールに書き込まれます。 この情報は、アプリケーションで問題が発生し、問題がアプリ ラッピング ツールに関連するかどうかを診断する必要がある場合に役立ちます。 この情報を取得するには、次の手順を使用します。

1.  アプリケを実行し、問題を再現します。

2.  「 [展開された iOS アプリのデバッグ](https://developer.apple.com/library/ios/qa/qa1747/_index.html)」にある Apple の指示に従い、コンソール出力を集めます。

3.  次のスクリプトをコンソールに入力し、アプリ制限出力の保存ログをフィルター処理します。

    ```
    grep “IntuneAppRestrictions” <text file containing console output> > <required filtered log file name>
    ```
    Microsoft にフィルター処理したログを送信できます。

    > [!NOTE]
    > ログ ファイルで、「build version」という項目は Xcode のビルド バージョンを表します。

    ラッピングしたアプリはまた、アプリのクラッシュ後に電子メールでデバイスからログを直接送信するオプションをユーザーに提供します。 ユーザーはログをあなたに送信し、あなたはそれを調べ、必要に応じて Microsoft に転送できます。


### 証明書、プロビジョニング プロファイル、認証に関する要件

アプリ ラッピング ツールには、すべての機能を保証するために満たす必要があるいくつかの要件があります。

|要件|説明|
|---------------|-----------|
|プロビジョニング プロファイル|**プロビジョニング プロファイルを追加する前に、これが有効であるかどうかを確認します**。 アプリ ラッピング ツールは、iOS アプリを処理するとき、プロビジョニング プロファイルの有効期限が切れているかどうかを確認しません。 有効期限が切れたプロビジョニング プロファイルが指定された場合も、アプリ ラッピング ツールはそのプロファイルを追加します。iOS デバイスでアプリのインストールに失敗するまで、問題があることはわかりません。|
|証明書|**証明書を指定する前に、これが有効であるかどうかを確認します**。 このツールは、iOS アプリを処理するとき、証明書の有効期限が切れているかどうかを確認しません。 有効期限が切れた証明書のハッシュを指定すると、このツールはアプリを処理し、署名しますが、デバイスにインストールすると失敗します。<br /><br />**パッケージ アプリケーションに署名するために提供された証明書がプロビジョニング プロファイルと一致することを確認します**。 このツールは、ラッピングされたアプリケーションに署名するために提供された証明書とプロビジョニング プロファイルが一致するかどうかを検証しません。|
|認証|暗号化を機能させるには、デバイスに PIN を設定する必要があります。 ラッピングしたアプリを展開したデバイスで、デバイスのステータス バーに触れると、ユーザーは [!INCLUDE[wit_nextref](../includes/wit_nextref_md.md)] による再認証が要求されます。 ラッピングしたアプリの既定のポリシーは、*再起動時に認証*です。 iOS はすべての外部通知 (例: 電話) を、アプリを終了して再起動することで処理します。


## アプリ権利の設定
アプリをラップする前に、アプリに**権利**を付与して、通常のアプリよりも多くのアクセス許可と機能を与えることができます。  **権利ファイル**は、アプリ内に特殊なアクセス許可 (たとえば、共有キーチェーンへのアクセスなど) を指定するコード署名で使用されます。 アプリの開発中に、Xcode 内で特定のアプリケーション サービス (**機能**と呼ばれます) が有効になります。 機能が有効になると、権利ファイルに反映されます。 権利と機能の詳細については、iOS 権利および機能の詳細については、iOS 開発者ライブラリの「[Adding Capabilities (機能の追加)](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html)」を参照してください。 サポートされる機能の一覧については、「[Supported capabilities (サポートされる機能)](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/SupportedCapabilities/SupportedCapabilities.html)」を参照してください。

### iOS 用アプリ ラッピング ツールでサポートされる機能

|機能|説明|推奨される方法|
|--------------|---------------|------------------------|
|アプリ グループ|アプリ グループを使用して、複数のアプリが共有コンテナーにアクセスできるようにします。また、アプリ間の追加のプロセス間通信を許可します。<br /><br />アプリ グループを有効にするには、[**機能**] ウィンドウを開き、[**アプリ グループ**] セクションの [**オン**] スイッチをクリックします。 アプリ グループを追加するか、既存のグループを選択することができます。|アプリ グループを使用する場合は、次のように逆引き DNS 表記を使用します。<br /><br />*group.com.companyName.AppGroup*|
|バックグラウンド モード|バックグラウンド モードを有効にすると、iOS アプリを継続的にバックグラウンドで実行できるようになります。||
|データ保護|データ保護を使用すると、iOS アプリでディスクに保存されているファイルのセキュリティ レベルを追加できます。 データ保護は、特定のデバイスに組み込まれている暗号化ハードウェアを使用して、暗号化された形式でディスクにファイルを保存します。 データ保護を使用するようにアプリをプロビジョニングする必要があります。||
|アプリ内購入|アプリ内購入は、ストアへの接続を有効にしてアプリにストアを直接組み込み、ユーザーから支払いを安全に処理します。 アプリ内購入を使用すると、強化された機能で支払いを収集し、アプリから追加のコンテンツを使用できるようになります。||
|キーチェーンの共有|キーチェーンの共有を有効にすると、同じチームで開発されたアプリ間でキーチェーン内のパスワードを共有できるようになります。|キーチェーンの共有を使用する場合は、次のように逆引き DNS 表記を使用します。<br /><br />*com.companyName.KeychainGroup*|
|個人の VPN|個人の VPN を有効にすると、アプリでネットワーク拡張機能フレームワークを使用して、カスタム システム VPN 構成を作成および制御できるようになります。||
|プッシュ通知|Apple Push Notification Service (APNS) を使用すると、フォアグラウンドで実行されていないアプリでも、ユーザーに対する情報がある場合にユーザーに通知できます。|プッシュ通知を使用するには、アプリ固有のプロビジョニング プロファイルを使用する必要があります。<br /><br />[Apple 開発者ドキュメント](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html)の手順を実行してください。|
|ワイヤレス アクセサリの構成|ワイヤレス アクセサリの構成を有効にすると、外部アクセサリ フレームワークをプロジェクトに追加し、アプリで MFi Wi-Fi アクセサリを構成できるようになります。||

### 権利を有効にする手順

1.  アプリで機能を有効にします。

    1.  Xcode で、アプリのターゲットに移動し、[**Capabilities**] ウィンドウをクリックします。

    2.  目的の機能を有効にします。 各機能の詳細と正しい値の指定方法については、iOS 開発者ライブラリの「[Adding Capabilities (機能の追加)](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html)」を参照してください。

    3.  処理中に作成した ID をメモします。

    4.  ラップするアプリをビルドして署名します。

2.  プロビジョニング プロファイルで権利を有効にします。

    1.  Apple Developer Member Center にログインします。

    2.  アプリのプロビジョニング プロファイルを作成します。 手順については、「[iOS 用 Intune アプリ ラッピング ツールの前提条件を取得する方法](https://blogs.technet.microsoft.com/enterprisemobility/2015/02/25/how-to-obtain-the-prerequisites-for-the-intune-app-wrapping-tool-for-ios/)」を参照してください。

    3.  プロビジョニング プロファイルで、アプリ内と同じ権利を有効にします。 アプリの開発時に指定したものと同じ ID を指定する必要があります。

    4.  プロビジョニング プロファイル ウィザードを完了し、ファイルをダウンロードします。

3.  すべての前提条件を満たしていることを確認してから、アプリをラップします。

### 権利に関する一般的なエラーのトラブルシューティング
iOS 用アプリ ラッピング ツールで権利のエラーが表示される場合は、次のトラブルシューティング手順を実行します。

|問題|原因|解決方法|
|---------|---------|--------------|
|入力アプリケーションから生成された権利を解析できませんでした。|アプリ ラッピング ツールは、アプリから抽出された権利ファイルを読み取れません。 権利ファイルは、形式が正しくない可能性があります。|アプリの権利ファイルを調査します。 次の詳細な手順に従って調査してください。 権利ファイルを調査する場合、形式が正しくない構文がないかを確認します。 権利ファイルは、XML 形式である必要があります。|
|プロビジョニング プロファイルに足りない権利があります (不足している権利が表示されます)。 不足している権利を含むプロビジョニング プロファイルを使用してアプリを再パッケージします。|プロビジョニング プロファイルで有効な権利と、アプリで有効な機能が一致していません。 この不一致は、一部の機能 (アプリ グループ、キーチェーンのアクセスなど) に関連付けられた ID にも適用されます。|通常、アプリと同じ機能を有効にした新しいプロビジョニング プロファイルを作成できます。 プロファイルとアプリ間で ID が一致しない場合、アプリ ラッピング ツールは可能であれば ID を置き換えます。 新しいプロビジョニング プロファイルを作成した後もこのエラーが発生する場合、**–e** パラメーターを使用して権利を削除できます (以下の「–e パラメーターを使用してアプリから権利を削除する」セクションを参照してください)。|

### 署名済みアプリの既存の権利を検索する
署名済みアプリの既存の権利とプロビジョニング プロファイルを確認するには:

1.  .ipa ファイルを検索して、拡張子を .zip に変更します。

2.  .zip ファイルを展開します。 .app バンドルを含む Payload フォルダーが生成されます。

3.  codesign ツールを使用して、次のように .app バンドルの権利を確認します。

    ```
    $ codesign -d --entitlements :- "Payload/YourApp.app"
    ```
    この `YourApp.app` は、.app バンドルの実際の名前に置き換えます。

4.  セキュリティ ツールを使用して、アプリに組み込まれているプロビジョニング プロファイルの権利を確認します。

    ```
    $ security -D -i "Payload/YourApp.app/embedded.mobileprovision"
    ```
    この `YourApp.app` は、.app バンドルの実際の名前に置き換えます。

### –e パラメーターを使用してアプリから権利を削除する
このコマンドは、権利ファイルに含まれていないアプリで有効になっているすべての機能を削除します。 アプリが使用している権利を削除すると、アプリは損なわれます。 欠落している機能を削除する例とは、既定ですべての機能を備えているベンダー製のアプリがある場合です。

```
./IntuneMAMPackager/Contents/MacOS/IntuneMAMPackager –i /<path of input app>/<app filename> -o /<path to output folder>/<app filename> –p /<path to provisioning profile> –c <SHA1 hash of the certificate> -e
```

## アプリ ラッピング ツールのセキュリティとプライバシー
アプリ ラッピング ツールを使用するとき、セキュリティとプライバシーの次のベスト プラクティスを使用します。

-   指定した署名証明書、プロビジョニング プロファイル、基幹業務アプリは、アプリ ラッピング ツールを実行する同じ macOS マシンに置く必要があります。 ファイルが UNC パスにある場合、ファイルに macOS マシンからアクセスできることを確認します。 パスは IPsec または SMB 署名を使用して保護する必要があります。

    [!INCLUDE[wit_nextref](../includes/wit_nextref_md.md)] コンソールにインポートしたラッピングしたアプリケーションは、ツールを実行するのと同じコンピューター上に存在する必要があります。 ファイルが UNC パスにある場合、[!INCLUDE[wit_nextref](../includes/wit_nextref_md.md)] コンソールを実行するコンピューターでファイルにアクセスできることを確認します。 パスは IPsec または SMB 署名を使用して保護する必要があります。

-   アプリ ラッピング ツールを GitHub リポジトリからダウンロードする環境は IPsec または SMB 署名を使用して保護する必要があります。

-   攻撃を防ぐために、処理するアプリは信頼できる配信元のものである必要があります。

-   アプリ ラッピング ツールに指定する出力フォルダーが守られていることを確認します (リモート フォルダーの場合は特に)。

-   ファイル アップロードのダイアログ ボックスを含む iOS アプリでは、アプリに適用されている切り取り、コピー、貼付の制限を回避できます。 たとえば、ファイル アップロードのダイアログ ボックスを利用し、アプリ データのスクリーンショットをアップロードできます。

-   ラッピングされたアプリ内からデバイスのドキュメント フォルダーをユーザーが監視するとき、「 **.msftintuneapplauncher**」という名前のフォルダーが表示されることがあります。 このフォルダーを変更または削除すると、制限付きのアプリの正常な動作に影響を与える可能性があります。

### 関連項目
- [Microsoft Intune によるモバイル アプリケーション管理のためにアプリを準備する方法を決める](decide-how-to-prepare-apps-for-mobile-application-management-with-microsoft-intune.md)</br>
- [Microsoft Intune ポリシーを使用してデバイスの設定と機能を管理する](manage-settings-and-features-on-your-devices-with-microsoft-intune-policies.md)</br>
- [Use the SDK to enable apps for mobile application management (アプリでモバイル アプリケーション管理を実行できるよう SDK を使用する)](use-the-sdk-to-enable-apps-for-mobile-application-management.md)



<!--HONumber=Oct16_HO2-->


